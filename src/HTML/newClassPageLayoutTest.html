<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-H6N8FBM6L1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-H6N8FBM6L1');
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Courserr</title>

  <!-- Favicon -->

  <!-- Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap">
  <!-- Material Symbols (for md-icon) -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

  <!-- Material Web (md-icon, chips, etc.) -->
  <script type="importmap">
  {
    "imports": {
      "@material/web/": "https://esm.run/@material/web/",
      "@huggingface/transformers": "https://esm.run/@huggingface/transformers"
    }
  }
  </script>
  <script type="module">
    import '@material/web/all.js';
    import { styles as typescaleStyles } from '@material/web/typography/md-typescale-styles.js';
    document.adoptedStyleSheets.push(typescaleStyles.styleSheet);
  </script>

  <!-- Chart.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

  <!-- Your JS files -->
  <script src="../Javascript/Class.js"></script>
  <script src="../Javascript/ClassInstantiation.js"></script>
  <script src="../Javascript/script.js"></script>
  <script src="../Javascript/loadClass.js"></script>


  <!-- Your CSS -->
  <link rel="stylesheet" href="../Style/style.css">
  <link rel="stylesheet" href="../Style/sidebar.css">
  <link rel="stylesheet" href="../Style/classPage2.css">
  <link rel="stylesheet" href="../Style/classColours.css">
  <link rel="stylesheet" href="../Style/classPageMobile.css">

  <!-- md-icon styling -->
  <style>
    md-icon {
      color: #006A6A;
      --md-icon-size: 48px;
    }

    md-icon.rounded {
      --md-icon-font: 'Material Symbols Rounded';
    }

    md-icon.sharp {
      --md-icon-font: 'Material Symbols Sharp';
    }

    md-icon.outlined {
      --md-icon-font: 'Material Symbols Outlined';
    }
    .material-symbols-rounded {
      font-variation-settings:
        'FILL' 1,
        'wght' 500,
        'GRAD' 200,
        'opsz' 48;
      transition: font-variation-settings 0.5s ease;
    }

    .material-symbols-rounded.no-fill,
    .no-fill.material-symbols-rounded,
    span.material-symbols-rounded.no-fill {
      font-variation-settings:
        'FILL' 0,
        'wght' 500,
        'GRAD' 200,
        'opsz' 48 !important;
    }

    md-icon[filled] {
      font-variation-settings: 'FILL' 1;
    }
    
  </style>
</head>

<body class="classPage" style="background-color: var(--light-bg)" id="body">
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <div class="container" id="fullHeightDiv">
    <button class="material-symbols-rounded menuMobile openMenu mobileClose" style="font-size: 5vh; transition: opacity 0.25s ease, transform 0.5s ease;" id="lines" onclick="openClose(true)" aria-label="Open navigation menu" aria-expanded="false" aria-controls="sidebar">menu</button>
    <button class="material-symbols-rounded menuMobile mobileClose" style="font-size: 5vh; transition: opacity 0.25s ease, transform 0.5s ease;" id="exes" onclick="openClose(false)" aria-label="Close navigation menu" aria-expanded="true" aria-controls="sidebar">close</button>
    <nav class="sidebar" id="sidebar" style="background-color: var(--light-mode-bg)" aria-label="Main navigation">

      <button class="sidebarItem mobileClose" onclick="openClose(false)" id="mobileClose" style="padding-left: 7vh;" aria-label="Close menu">
        <span>Close</span>
      </button>
      <button class="sidebarItem" onclick="window.location.href = './allClasses.html';">
        <span class="material-symbols-rounded sidebar-icon" aria-hidden="true">flood</span><span>Home</span>
      </button>
      <!-- <div class="sidebarItem" onclick="window.open('https://forms.gle/BzNknKsfrAYHzkww7', '_blank').focus();">
            <span class="material-symbols-rounded sidebar-icon no-fill" style="font-size:4vw">add</span>Rate class
          </div> -->
      <button class="sidebarItem"
        onclick="window.open('https://docs.google.com/document/d/1n4HRkpug7Vh7ZYWIeSQcKXRjLHPDzmVj/edit#heading=h.gjdgxs')">
        <span class="material-symbols-rounded sidebar-icon" aria-hidden="true">menu_book</span><span>Handbook</span>
      </button>
      <button class="sidebarItem"
        onclick="window.open('https://ameshighathletics.org/activities/?per_page=12&page=1', '_blank').focus();">
        <span class="material-symbols-rounded sidebar-icon no-fill" aria-hidden="true">groups</span><span>Clubs & Activities</span>
      </button>
      <button class="sidebarItem"
        onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLSdDH42uqIz3Om26jL_gGW5gQYDMwOj298VUGsPA_PfuC-56Dw/viewform?usp=publish-editor', '_blank').focus()">
        <span class="material-symbols-rounded sidebar-icon" aria-hidden="true">bug_report</span><span>Bugs/Issues</span>
      </button>
      <button class="sidebarItem" onclick="window.location.href = '../index.html'">
        <span class="material-symbols-rounded sidebar-icon" aria-hidden="true">help</span><span>Help</span>
      </button>
      <button class="sidebarItem" onclick="window.open('https://github.com/jackattack16/Courserr').focus()">
        <!-- <span class="material-symbols-rounded sidebar-icon">volunteer_activism</span><p>Contrubute</p> -->
        <img src="../Images/github-mark.png" class="sidebar-icon" alt="GitHub logo"><span>Contribute</span>
      </button>
    </nav>
    <div class="main-content">
      <div class="header" style="background-color: var(--light-mode-bg);height: 10vh;" id="header">
        <div class="title">
          <strong>Course<i>rr</i></strong>
          <!--<button style="height: 10vh; width: 10vw">Click Me</button>-->
        </div>
      </div>



    </div>


    <main class="main-content-class-page" id="main-content" aria-label="Course details">

        <div class="class-info-container" style="padding-top:12.5vh">
          <div class="class-page-header">
            <div class="class-page-header-left">
              <div class="class-title-teacher-holder">

                <h1 class="class-title" id="className">Loading...</h1>
                <hr class="title-teacher-break">
                <div class="class-teacher" id="teachers">Loading...</div>

              </div>
            </div>
            <div class="class-page-header-right">

              <div class="class-prerequisites" id="prereq">

                <div class="elevated-rectangle-title">Prerequisites</div>
              </div>

              <div class="class-tags">
                <div class="elevated-rectangle-title">Tags</div>
                <div class="class-tags-holder">
                  <div class="elevated-rectangle-half">Reading Heavy</div>
                  <div class="elevated-rectangle-half">Extra Credit</div>
                  <div class="elevated-rectangle-half">Hard Tests</div>
                  <div class="elevated-rectangle-half">Fun</div>
                  <div class="elevated-rectangle-half">Engaging</div>
                </div>
              </div>

              <div class="class-quick-info" id="quickHits">

                <div class="elevated-rectangle-title">Quick Hits</div>

              </div>

            </div>
          </div>

          <div class="class-page-half-box description classPageClassDecription" id="getColor">
            <p class="description-paragraph">Loading...</p>
          </div>

          <div class="class-page-half-box">
            <canvas id="myChart" class='classPageGraphHalf' role="img" aria-label="Course statistics chart"></canvas>
          </div>


        </div>

      </main>
      





  </div>
  <div class="cookie-popup-holder" id="background-blur" role="dialog" aria-modal="true" aria-labelledby="cookie-title" aria-describedby="cookie-desc">
    <div id="cookie-banner" class="cookie-stuff" role="document">
      <h2 id="cookie-title" class="visually-hidden">Cookie preferences</h2>
      <p id="cookie-desc">We use cookies and anonymous analytics to improve the experience for everyone. We collect data like visited pages and commonly used features to understand how Courserr is used and make it better.</p>
      <div class="privacy-holder">
        <button onclick="acceptCookies()" class="accept" aria-label="Accept cookies">Accept</button>
        <button onclick="declineCookies()" class="decline" aria-label="Decline cookies">Decline</button>
      </div>
      <a href="privacy.html">Privacy Policy</a>
    </div>
    </div>

  <script src="../Javascript/loadClass.js"></script>
  <script src="../Javascript/cookies.js"></script>

  <script>
    let course;
    window.onload = function () {
      console.log('JavaScript is running!');
      // Your onload logic
      const params = new URLSearchParams(window.location.search);
      let courseName = params.get('courseId');
      console.log(courseName)

      // If course parameter doesn't exist, try category parameter (for backward compatibility)
      if (!courseName) {
        courseName = params.get('courseId');
        if (courseName) {
          // Convert underscores back to spaces for category parameter
          courseName = courseName.replace(/_/g, ' ');
        }
      }


      if (courseName) {
        if (typeof displayCourseDetails === 'function') {
          displayCourseDetails(courseName);
        } else {
          console.error('displayCourseDetails function not found');
        }
        console.log('Course: ' + courseName);
      } else {
        console.error('No course found in URL');
        console.log('No course found');
      }


    };


    function openClose(closed) {
      let lines = document.getElementById('lines');
      let exes = document.getElementById('exes');
      let text = document.getElementById('mobileClose');
      let sidebar = document.getElementById('sidebar');
      if (closed) {
        exes.style.opacity = "1";
        exes.style.transform = "rotate(-90deg)"
        exes.style.zIndex = "1002";
        exes.setAttribute('aria-expanded', 'true');
        lines.style.opacity = "0";
        lines.style.transform = "rotate(90deg)";
        lines.style.zIndex = "1001";
        lines.setAttribute('aria-expanded', 'true');
        sidebar.style.transform = "translateX(0vw)"
        sidebar.setAttribute('aria-hidden', 'false');
        text.style.opacity = "1";
        exes.focus();

      } else {
        exes.style.opacity = "0";
        exes.style.transform = "rotate(0deg)"
        exes.style.zIndex = "1001";
        exes.setAttribute('aria-expanded', 'false');
        lines.style.opacity = "1";
        lines.style.transform = "rotate(0deg)";
        lines.style.zIndex = "1002";
        lines.setAttribute('aria-expanded', 'false');
        sidebar.style.transform = "translateX(-75vw)"
        sidebar.setAttribute('aria-hidden', 'true');
        text.style.opacity = "0";
        lines.focus();
      }

    }
  </script>

</body>

</html>